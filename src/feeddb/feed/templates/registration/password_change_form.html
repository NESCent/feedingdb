{% extends "admin/base_site.html" %}
{% load i18n static %}

{% block bodyclass %}password-change{% endblock %}
{% block breadcrumbs %}
<div class="container">
  <div class="row">
    <div class="col-xs-12">
      <div class="breadcrumbs">
        <ul class="crumbs">
          <li><a href="{% url 'admin:index' %}">{% trans 'Home' %}</a></li><span>/</span>
          <li>{% trans 'Password Change' %}</li>
        </ul>
      </div>
    </div>
  </div>
</div>
{% endblock %}

{% block pretitle %}
  <div class="masthead">
    <div class="container">
      <div class="row">
        <div class="col-xs-12">
          <h1>Password Change</h1>
        </div>
      </div>
      <div class="row">
        <div class="col-xs-12">
          <hr />
          <p>{% trans "Please enter your old password, for security's sake, and then enter your new password twice so we can verify you typed it in correctly." %}</p>
        </div>
      </div>
    </div>
  </div>
{% endblock %}

{% block content %}
  <div class="col-xs-9">
    <div id="content-main">
      <form action="" method="post">{% csrf_token %}
        <div>
          {% if form.errors %}
          <p class="errornote">
            {% if form.errors.items|length == 1 %}{% trans "Please correct the error below." %}{% else %}{% trans "Please correct the errors below." %}{% endif %}
          </p>
          {% endif %}
          <fieldset class="module aligned wide">
            <div class="row">
              {{ form.old_password.errors }}
              <div class="col-xs-3">
                <label for="id_old_password" class="required">{% trans 'Old password' %}:</label>
              </div>
              <div class="col-xs-8">
                {{ form.old_password }}
              </div>
            </div>
            <div class="row">
              {{ form.new_password1.errors }}
              <div class="col-xs-3">
                <label for="id_new_password1" class="required">{% trans 'New password' %}:</label>
              </div>
              <div class="col-xs-8">
                {{ form.new_password1 }}
              </div>
            </div>
            <div class="row">
              {{ form.new_password2.errors }}
              <div class="col-xs-3">
                <label for="id_new_password2" class="required">{% trans 'Password (again)' %}:</label>
              </div>
              <div class="col-xs-8">
                {{ form.new_password2 }}
              </div>
            </div>
          </fieldset>
          <div class="row">
            <div class="col-xs-4 col-xs-offset-3">
              <input type="submit" value="{% trans 'Change my password' %}" class="default" />
            </div>
          </div>
          <script type="text/javascript">document.getElementById("id_old_password").focus();</script>
        </div>
      </form>
    </div>
  </div>

{% endblock %}